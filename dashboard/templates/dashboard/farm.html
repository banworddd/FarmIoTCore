{% extends "main/layout.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/user_farms.css' %}">
<link rel="stylesheet" href="{% static 'css/external_organization.css' %}">
{% endblock %}

{% block extra_js %}
<script>
    const FARM_SLUG = '{{ slug }}';
</script>
<script src="{% static 'js/farm.js' %}"></script>
{% endblock %}

{% block title %}Ферма{% endblock %}

{% block content %}
<div class="farms-page">
    <div class="content-wrapper">
        <!-- Заголовок -->
        <div class="header-card">
            <div class="farms-header">
                <h1 class="farms-title">
                    <span id="farmName" class="editable-field" data-field="name">Загрузка...</span>
                </h1>
            </div>
        </div>

        <!-- Основная информация о ферме -->
        <div class="organization-details">
            <!-- Основная информация -->
            <div class="detail-card">
                <h2><i class="fas fa-info-circle"></i> Основная информация</h2>
                <div class="detail-content">
                    <div class="detail-item">
                        <span class="detail-badge description-badge">
                            <i class="fas fa-file-alt"></i>
                            <span class="badge-label">Описание</span>
                        </span>
                        <div class="editable-container">
                            <span id="farmDescription" class="editable-field" data-field="description">Загрузка...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Родительская организация -->
            <div class="detail-card">
                <h2><i class="fas fa-building"></i> Родительская организация</h2>
                <div class="detail-content">
                    <div class="detail-item">
                        <span class="detail-badge org-name-badge">
                            <i class="fas fa-building"></i>
                            <span class="badge-label">Название</span>
                        </span>
                        <div class="editable-container">
                            <span id="orgName" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-badge org-description-badge">
                            <i class="fas fa-file-alt"></i>
                            <span class="badge-label">Описание</span>
                        </span>
                        <div class="editable-container">
                            <span id="orgDescription" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-badge org-address-badge">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="badge-label">Адрес</span>
                        </span>
                        <div class="editable-container">
                            <span id="orgAddress" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-badge org-type-badge">
                            <i class="fas fa-tag"></i>
                            <span class="badge-label">Тип</span>
                        </span>
                        <div class="editable-container">
                            <span id="orgType" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Пользователи фермы -->
            <div class="detail-card">
                <h2><i class="fas fa-users"></i> Пользователи фермы</h2>
                <div class="detail-content">
                    <div id="farmUsersList" class="users-list">
                        <!-- Здесь будут карточки пользователей -->
                    </div>
                </div>
            </div>

            <!-- Контактная информация -->
            <div class="detail-card">
                <h2><i class="fas fa-address-card"></i> Контактная информация</h2>
                <div class="detail-content">
                    <div class="detail-item">
                        <span class="detail-badge address-badge">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="badge-label">Адрес</span>
                        </span>
                        <div class="editable-container">
                            <span id="farmAddress" class="editable-field" data-field="address">Загрузка...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Информация о владельце -->
            <div class="detail-card">
                <h2><i class="fas fa-user"></i> Информация о владельце</h2>
                <div class="detail-content">
                    <div class="detail-item">
                        <span class="detail-badge owner-badge">
                            <i class="fas fa-user"></i>
                            <span class="badge-label">ФИО</span>
                        </span>
                        <div class="editable-container">
                            <span id="farmOwnerName" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-badge phone-badge">
                            <i class="fas fa-phone"></i>
                            <span class="badge-label">Телефон</span>
                        </span>
                        <div class="editable-container">
                            <span id="farmOwnerPhone" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                    <div class="detail-item">
                        <span class="detail-badge email-badge">
                            <i class="fas fa-envelope"></i>
                            <span class="badge-label">Email</span>
                        </span>
                        <div class="editable-container">
                            <span id="farmOwnerEmail" class="editable-field">Загрузка...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Мета информация -->
            <div class="detail-card">
                <h2><i class="fas fa-history"></i> Мета информация</h2>
                <div class="detail-content">
                    <div class="detail-item">
                        <span class="detail-badge created-badge">
                            <i class="fas fa-calendar-plus"></i>
                            <span class="badge-label">Дата создания</span>
                        </span>
                        <span id="farmCreatedAt">Загрузка...</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-badge updated-badge">
                            <i class="fas fa-calendar-check"></i>
                            <span class="badge-label">Дата обновления</span>
                        </span>
                        <span id="farmUpdatedAt">Загрузка...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 